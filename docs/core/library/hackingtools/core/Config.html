<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>Config.py</title>
  <link rel="stylesheet" href="..\..\..\..\pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>Config.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      <h3><span id="treats-all-the-configuration-of-the-app" href="treats-all-the-configuration-of-the-app"> Treats all the configuration of the app </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span></span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <p>All the configuration is loaded from this file</p>
<p>Currently we support the following 2 public functions and 4 private functions:</p>
<p>Public:</p>
<ol>
<li>
<p><strong>getConfig</strong> - Returns the configuration of some key values you explicitly tell on params (jump to section in  <a href="Config.html#getConfig">Config.py</a> )</p>
</li>
<li>
<p><strong>getApiKey</strong> - Return an API Key registered into configuration (jump to section in  <a href="Config.html#getApiKey">Config.py</a> )</p>
</li>
</ol>
<p>Private:</p>
<ol>
<li>
<p><strong><strong>readConfig</strong></strong> - Read&rsquo;s all the configuration included in your config.json file (jump to section in  <a href="Config.html#__readConfig__">Config.py</a> )</p>
</li>
<li>
<p><strong><strong>save_config</strong></strong> - Save configuration passed as parameter to this function. This, writes into your config.json (jump to section in  <a href="Config.html#__save_config__">Config.py</a> )</p>
</li>
<li>
<p><strong><strong>createModuleTemplateConfig</strong></strong> - This function creates into config.json a template with a simple config for trying in your GUI your functions (jump to section in  <a href="Config.html#__createModuleTemplateConfig__">Config.py</a> )</p>
</li>
<li>
<p><strong><strong>look_for_changes</strong></strong> - Reloads the configuration loaded (jump to section in  <a href="Config.html#__look_for_changes__">Config.py</a> )</p>
</li>
</ol>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="k">global</span> <span class="n">config</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">{}</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      <h3><span id="__readconfig__" href="__readconfig__"> <strong>readConfig</strong> </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">__readConfig__</span><span class="p">():</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      <pre><code>Read's all the configuration included in 
your config.json file
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">global</span> <span class="n">config</span>
    <span class="n">config</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;config.json&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">json_data_file</span><span class="p">:</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_data_file</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      <h3><span id="__save_config__" href="__save_config__"> <strong>save_config</strong> </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">__save_config__</span><span class="p">(</span><span class="n">new_conf</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      <pre><code>Save configuration passed as parameter
to this function. This, writes into 
your config.json

Arguments
---------
</code></pre>
<p>new_conf : List</p>
<pre><code>   The List with the configuration you 
   want to dump onto the file
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;config.json&#39;</span><span class="p">),</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>  
        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">new_conf</span><span class="p">,</span> <span class="n">outfile</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      <h3><span id="__createmoduletemplateconfig__" href="__createmoduletemplateconfig__"> <strong>createModuleTemplateConfig</strong> </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">__createModuleTemplateConfig__</span><span class="p">(</span><span class="n">module_name</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      <pre><code>This function creates into config.json a template
with a simple config for trying in your GUI your 
functions. You would see in configuration file a new 
ht_yourmodulename key with some more data inside it.
They are necesary when using the framework GUI for 
trying the functions.

Arguments
---------
</code></pre>
<p>module_name : str</p>
<pre><code>   A function name in String that is loaded 
   in your hackingtools library
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">global</span> <span class="n">config</span>
    <span class="n">config_tmp</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;config.json&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">json_data_file</span><span class="p">:</span>
        <span class="n">config_tmp</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_data_file</span><span class="p">)</span>
    <span class="n">new_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;__gui_label__&quot;</span> <span class="p">:</span> <span class="s2">&quot;_MODULE_GUI_LABEL_&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_comment&quot;</span> <span class="p">:</span> <span class="s2">&quot;Rename templates if have to use: (remove underscore) &#39;django_form_main_function&#39; and &#39;django_form_module_function&#39;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;_django_form_main_function_&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;_HTML_FIELD_NAME_&quot;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;__id__&quot;</span> <span class="p">:</span> <span class="s2">&quot;_HTML_FIELD_NAME_&quot;</span><span class="p">,</span>
                <span class="s2">&quot;__type__&quot;</span> <span class="p">:</span> <span class="s2">&quot;_HTML_INPUT_TYPE_&quot;</span><span class="p">,</span>
                <span class="s2">&quot;__className__&quot;</span> <span class="p">:</span> <span class="s2">&quot;_HTML_INPUT_CLASS_&quot;</span><span class="p">,</span>
                <span class="s2">&quot;label_desc&quot;</span> <span class="p">:</span> <span class="s2">&quot;_DESCRIPTION_LABEL_&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span> <span class="p">:</span> <span class="s2">&quot;_IF_REQUIRED_&quot;</span><span class="p">,</span>
                <span class="s2">&quot;value&quot;</span> <span class="p">:</span> <span class="s2">&quot;_INPUT_VALUE_&quot;</span><span class="p">,</span>
                <span class="s2">&quot;loading_text&quot;</span> <span class="p">:</span> <span class="s2">&quot;_INPUT_LOADING_TEXT_&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;_django_form_module_function_&quot;</span> <span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;_PUBLIC_FUNCTION_&quot;</span> <span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;__function__&quot;</span> <span class="p">:</span> <span class="s2">&quot;_FUNCTION_CALLABLE_NAME_&quot;</span><span class="p">,</span>
                <span class="s2">&quot;__return__&quot;</span> <span class="p">:</span> <span class="s2">&quot;_IF_RETURNS_LIKE_TEXT_&quot;</span><span class="p">,</span>
                <span class="s2">&quot;_PARAM_TO_USE_IN_VIEWS_PY_&quot;</span> <span class="p">:</span> <span class="p">{</span>
                    <span class="s2">&quot;__id__&quot;</span> <span class="p">:</span> <span class="s2">&quot;_HTML_FIELD_NAME_&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;__type__&quot;</span> <span class="p">:</span> <span class="s2">&quot;_HTML_INPUT_TYPE_&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;__className__&quot;</span> <span class="p">:</span> <span class="s2">&quot;_HTML_INPUT_CLASS_&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;label_desc&quot;</span> <span class="p">:</span> <span class="s2">&quot;_DESCRIPTION_LABEL_&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;value&quot;</span> <span class="p">:</span> <span class="s2">&quot;_INPUT_VALUE_&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;required&quot;</span> <span class="p">:</span> <span class="s2">&quot;_IF_REQUIRED_&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;returnable_modules_functions&quot;</span> <span class="p">:</span> <span class="p">{</span>
                        <span class="s2">&quot;_MODULE_CALL_FOR_&quot;</span> <span class="p">:</span> <span class="p">[</span>
                            <span class="s2">&quot;_THAT_MODULES_FUNCTION&quot;</span>
                        <span class="p">]</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">new_key_module</span> <span class="o">=</span> <span class="s1">&#39;ht_{mod}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod</span><span class="o">=</span><span class="n">module_name</span><span class="p">)</span>
    <span class="n">config_tmp</span><span class="p">[</span><span class="s1">&#39;modules&#39;</span><span class="p">][</span><span class="n">new_key_module</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_config</span>
    <span class="n">__save_config__</span><span class="p">(</span><span class="n">config_tmp</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      <h3><span id="__look_for_changes__" href="__look_for_changes__"> <strong>look_for_changes</strong> </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">__look_for_changes__</span><span class="p">():</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      <pre><code>Reloads the configuration loaded

Returns
-------
</code></pre>
<p>boolean</p>
<pre><code>   Tell's if there where any changes
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">global</span> <span class="n">config</span>
    <span class="n">config_tmp</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;config.json&#39;</span><span class="p">))</span> <span class="k">as</span> <span class="n">json_data_file</span><span class="p">:</span>
        <span class="n">config_tmp</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_data_file</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">items</span><span class="p">())</span> <span class="o">==</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">config_tmp</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
        <span class="n">config</span> <span class="o">=</span> <span class="n">config_tmp</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      <h3><span id="getconfig" href="getconfig"> getConfig </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">getConfig</span><span class="p">(</span><span class="n">parentKey</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">subkey</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">extrasubkey</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      <pre><code>Returns the configuration of some key values
you explicitly tell on params

Arguments
---------
</code></pre>
<p>parentKey : str</p>
<pre><code>   Parent key of the config.json
</code></pre>
<p>key : str</p>
<pre><code>   The String of a child into that parent 
   key on the config.json

Keyword Arguments
-----------------
</code></pre>
<p>subkey : str</p>
<pre><code>   The String of a child, into that child, 
   into that parent key on the config.json 
   (default: {None})
</code></pre>
<p>extrasubkey : str</p>
<pre><code>   The String of a child, into that child, 
   into the other child, into that parent 
   key on the config.json (default: {None})

Returns
-------
</code></pre>
<p>List</p>
<pre><code>   The content of the config.json you selected 
   into an List / None
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">extrasubkey</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">subkey</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">config</span><span class="p">[</span><span class="n">parentKey</span><span class="p">][</span><span class="n">key</span><span class="p">][</span><span class="n">subkey</span><span class="p">][</span><span class="n">extrasubkey</span><span class="p">]</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="k">return</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">subkey</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">config</span><span class="p">[</span><span class="n">parentKey</span><span class="p">][</span><span class="n">key</span><span class="p">][</span><span class="n">subkey</span><span class="p">]</span>
                    <span class="k">except</span><span class="p">:</span>
                        <span class="k">return</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">return</span>
        <span class="k">return</span> <span class="n">config</span><span class="p">[</span><span class="n">parentKey</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      <h3><span id="getapikey" href="getapikey"> getApiKey </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">getApiKey</span><span class="p">(</span><span class="n">apiName</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      <pre><code>Return an API Key registered into configuration

Arguments
---------
</code></pre>
<p>apiName : str</p>
<pre><code>   The API Key name in String that is 
   registered into config.json

Returns
-------
</code></pre>
<p>str</p>
<pre><code>   The API Key into your config.json into 
   the apiName you selected / None
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;core&#39;</span><span class="p">][</span><span class="s1">&#39;__API_KEY__&#39;</span><span class="p">][</span><span class="n">apiName</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">None</span>

<span class="n">__readConfig__</span><span class="p">()</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
